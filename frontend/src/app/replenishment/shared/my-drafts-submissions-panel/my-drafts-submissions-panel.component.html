<section class="my-drafts-panel" role="region" aria-label="My drafts and submissions">
  <div class="panel-header">
    <div class="panel-title-group">
      <mat-icon aria-hidden="true" class="panel-icon">description</mat-icon>
      <span class="panel-title">{{ title() }}</span>
      @if (totalCount() > 0) {
        <span class="count-badge" aria-label="{{ totalCount() }} total submissions">{{ totalCount() }}</span>
      }
    </div>
  </div>

  <div class="panel-body">
    @if (statusGroups().length > 0) {
      <div class="status-breakdown" role="list" aria-label="Submission status summary">
        @for (group of statusGroups(); track group.label) {
          <div class="status-chip" [ngClass]="group.cssClass" role="listitem">
            <mat-icon aria-hidden="true" class="status-icon">{{ group.icon }}</mat-icon>
            <span class="status-count">{{ group.count }}</span>
            <span class="status-label">{{ group.label }}</span>
          </div>
        }
      </div>
    }

    <div class="panel-actions">
      @if (hasDrafts()) {
        <button
          mat-stroked-button
          type="button"
          class="drafts-btn"
          (click)="navigateToDrafts()"
          aria-label="View drafts in My Submissions page">
          <mat-icon aria-hidden="true">edit_note</mat-icon>
          Continue a Draft
        </button>
      }
      <button
        mat-flat-button
        color="primary"
        type="button"
        class="view-all-btn"
        (click)="navigateToFullPage()"
        aria-label="Open My Submissions page">
        <mat-icon aria-hidden="true">open_in_new</mat-icon>
        View All Submissions
      </button>
    </div>
  </div>
</section>
